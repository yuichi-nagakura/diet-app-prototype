# ダイエットアプリ画面仕様書

## 概要
本仕様書は、AI栄養士機能を搭載したダイエットアプリのプロトタイプにおける画面仕様を定義します。設計書に基づき、Next.js、LocalStorage、Mock APIを使用して実装されています。

## 技術仕様
- **フレームワーク**: Next.js 14 (App Router)
- **スタイリング**: Tailwind CSS
- **データ管理**: LocalStorage
- **状態管理**: React Hooks
- **UI コンポーネント**: カスタムコンポーネント

## 画面一覧

### 1. ホーム画面 (`/`)

#### 概要
ユーザーのダッシュボードとして機能し、今日の状態、AI栄養士のアドバイス、栄養バランスを一覧表示

#### 主要コンポーネント
1. **ヘッダー**
   - ユーザー名の表示
   - 現在の日付

2. **クイックスタッツ**
   - 今日のカロリー（円形プログレスバー）
   - 継続日数（炎アイコン付き）

3. **現在の状態**
   - 現在の体重
   - 目標体重
   - BMI
   - 進捗バー

4. **今日のレッスン**
   - 5分間のマイクロレッスン
   - カテゴリアイコン（栄養、心理学、運動、ライフスタイル）
   - 「続きを読む」展開機能
   - 完了ボタン

5. **食事記録クイックアクセス**
   - 写真・検索・バーコードアイコン
   - 食事記録画面への遷移

6. **今日の食事一覧**
   - 朝食、昼食、夕食、間食の記録
   - 各食事のカロリー表示

7. **栄養バランスチャート**
   - カロリー、タンパク質、炭水化物、脂質のプログレスバー
   - 詳細栄養素の表示（食物繊維、糖質、ナトリウム、コレステロール）

8. **AI栄養士「未来さん」**
   - パーソナライズされたアドバイス
   - 優先度別カラーコーディング（高：赤、中：黄、低：緑）
   - アクションアイテムのリスト

### 2. 食事記録画面 (`/food-record`)

#### 概要
食品検索、選択、栄養計算、記録保存を行う画面

#### 主要コンポーネント
1. **ヘッダー**
   - 戻るボタン
   - 「食事を記録」タイトル

2. **食事タイプ選択**
   - 4つのボタン：朝食🌅、昼食☀️、夕食🌙、間食🍿
   - 時間帯に応じた自動選択

3. **食品検索**
   - 検索バー（虫眼鏡アイコン付き）
   - 写真で記録ボタン（カメラアイコン）
   - バーコードボタン

4. **検索結果**
   - 食品名、ブランド名
   - カロリー表示
   - タップで選択

5. **選択した食品**
   - 食品リスト
   - 分量入力フィールド
   - 個別削除ボタン
   - 栄養素内訳（タンパク質、炭水化物、脂質、食物繊維）
   - 合計カロリー

6. **保存ボタン**
   - 「記録を保存」（チェックアイコン付き）

### 3. 進捗画面 (`/progress`)

#### 概要
体重変化、カロリー推移、栄養バランスの可視化

#### 主要コンポーネント
1. **体重進捗カード**
   - 現在の体重と目標体重
   - 体重変化の表示（増減アイコン）
   - 進捗バー
   - 「今日の体重を記録」ボタン

2. **期間選択**
   - 週間/月間トグルボタン

3. **カロリー推移チャート**
   - 棒グラフ（Recharts使用）
   - 平均摂取カロリー表示

4. **体重推移チャート**
   - 折れ線グラフ
   - 記録された体重の変化

5. **栄養バランスサマリー**
   - 1日あたりの平均摂取量
   - カロリー、タンパク質、炭水化物、脂質

6. **BMIステータス**
   - 現在のBMI値
   - BMIカテゴリ（低体重、標準、肥満度）

### 4. 達成記録画面 (`/achievements`)

#### 概要
ゲーミフィケーション要素として、達成バッジと進捗を表示

#### 主要コンポーネント
1. **統計概要**
   - 現在の連続記録
   - 総記録数

2. **アチーブメントカテゴリ**
   - **継続記録**（炎アイコン）
     - 3日、7日、30日連続記録
   - **マイルストーン**（ターゲットアイコン）
     - 初記録、50食、100食、1kg減量
   - **バッジ**（バッジアイコン）
     - 早起き記録者、野菜マスター、タンパク質チャンピオン

3. **各アチーブメント表示**
   - アイコン（達成時：カラー、未達成：グレースケール）
   - タイトルと説明
   - 進捗バー
   - 達成日（達成済みの場合）

4. **モチベーションメッセージ**
   - 励ましのメッセージカード

### 5. プロフィール画面 (`/profile`)

#### 概要
ユーザー情報の表示と編集

#### 主要コンポーネント
1. **ユーザー情報カード**
   - アバターアイコン
   - 名前とメールアドレス
   - 編集/保存ボタン

2. **基本情報**
   - 年齢、性別、身長
   - 編集モード：入力フィールド
   - 表示モード：読み取り専用

3. **体重と目標**
   - 現在の体重（BMI付き）
   - 目標体重（BMI付き）
   - ダイエット目標（減量/維持/増量）

4. **活動レベル**
   - 現在の設定表示
   - 編集時：ドロップダウン選択

5. **アカウント情報**
   - 登録日

6. **ログアウトボタン**
   - 確認ダイアログ付き

## ナビゲーション

### ボトムナビゲーション
固定配置で常時表示される5つのタブ：

1. **ホーム** - ホームアイコン
2. **食事記録** - カメラアイコン
3. **進捗** - グラフアイコン
4. **達成** - トロフィーアイコン
5. **プロフィール** - ユーザーアイコン

アクティブ状態：青色（#3b82f6）
非アクティブ状態：グレー（#6b7280）

## カラースキーム

- **プライマリ**: 青（#3b82f6）
- **成功**: 緑（#10b981）
- **警告**: 黄（#eab308）
- **エラー**: 赤（#ef4444）
- **背景**: グレー（#f9fafb）
- **テキスト**: ダークグレー（#111827）

## レスポンシブデザイン

- 最大幅: 448px（max-w-md）
- モバイルファースト設計
- スマートフォン画面に最適化

## データ永続化

すべてのデータはLocalStorageに保存：
- ユーザー情報
- 食事記録
- 進捗データ
- アチーブメント
- AIアドバイス
- レッスン進捗

## プロトタイプの動作

1. **初回アクセス時**
   - ゲストユーザーとして自動登録
   - デフォルトプロフィール設定

2. **食事記録フロー**
   - 食品検索 → 分量入力 → 保存
   - 自動的にAIアドバイス生成

3. **継続記録**
   - 毎日の記録で連続日数カウント
   - アチーブメント自動解除

4. **データリセット**
   - ログアウトで全データクリア